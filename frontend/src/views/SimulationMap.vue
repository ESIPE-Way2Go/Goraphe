<template>
  <v-container fluid style="padding: 10px">
    <v-row class="d-flex">

      <div class="vh-100 w-100">
        <l-map ref="map" v-model:zoom="zoom" :center="[48.8405364, 2.5843466]" :bounds="bounds"
               :max-bounds="maxBounds" :options="{zoomControl: false}">
          <l-tile-layer
              url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
              layer-type="base"
              name="OpenStreetMap"
          ></l-tile-layer>
          <l-control-zoom position="bottomright" zoom-in-text="+" zoom-out-text="-" />
          <l-geo-json :geojson="geojson" :options-style="styleFunction" ></l-geo-json>
          <l-geo-json :geojson="geojson" :options-style="geoStyler" ></l-geo-json>
        </l-map>
      </div>

      <v-btn icon="mdi-chevron-right" class="position-fixed mt-15 panel-burger ma-5" @click.stop="close= !close"
             v-if="close"></v-btn>
      <v-slide-y-transition>
        <v-card class="position-fixed pa-5 mt-15 panel-map ma-5 " :class="{'panel-map-lg' : lgAndUp,'panel-map-md': md}"
                v-if="!close">
          <v-row align="start">
            <v-col cols="10">
              <v-list lines="two">
                <v-list-item
                    title="Titre"
                    variant="text"
                    rounded
                    :subtitle="simulation.name"
                >
                </v-list-item>
              </v-list>
            </v-col>
            <v-col cols="2">
              <v-btn prepend-icon="mdi-chevron-left" @click.stop="close= !close" flat size="x-large"></v-btn>
            </v-col>
          </v-row>

          <v-list lines="two">

            <v-list-item
                v-if="simulation.description.length>0"
                title="Description"
                variant="outlined"
                rounded
                :subtitle="simulation.description"
                class="ma-1"
            >
            </v-list-item>

            <v-list-item

                title="Distance"
                variant="outlined"
                rounded
                :subtitle="simulation.dist"
                class="ma-1 border-primary"
            >
            </v-list-item>

            <v-list-item
                title="Module"
                variant="outlined"
                rounded
                :subtitle="simulation.computingScript"
                class="ma-1 border-primary"
            >
            </v-list-item>

            <v-item-group multiple selected-class="bg-purple">
              <div class="text-caption mb-2">Tags</div>
              <v-item
                  v-for="road in simulation.roads"
                  :key="road" >
                <v-chip density="comfortable" class="ma-1">
                  {{ road }}
                </v-chip>
              </v-item>
            </v-item-group>
          </v-list>
        </v-card>
      </v-slide-y-transition>
    </v-row>
  </v-container>

</template>
<script>

import "leaflet/dist/leaflet.css";
import { LMap, LTileLayer,LGeoJson, LControlZoom } from "@vue-leaflet/vue-leaflet";
import authHeader from "@/services/auth-header";
import {useDisplay, useTheme} from "vuetify";
import {useToast} from "vue-toastification";
import {latLngBounds} from "leaflet/src/geo";


export default {
  setup() {
    const theme = useTheme();
    const toast = useToast();
    const {sm, md, lgAndUp} = useDisplay();

    return {
      theme,
      toggleTheme: () => theme.global.name.value = theme.global.current.value.dark ? 'myCustomLightTheme' : 'dark',
      toast,
      sm, md, lgAndUp,
      geoStyler: ()=>({
      weight: 4,
      color: "#1913d3",
      opacity: 0.5,

    }),
    }

  },
  computed: {
    styleFunction() {
      return () => {
        return {
          weight: 8,
          color: "#dfb90e",
          opacity: 1,
          fillOpacity: 1
        };
      };
    }
  },
  components: {
    LMap,
    LTileLayer,
    LGeoJson,
    LControlZoom,
  },
  name: 'TestSearch',
  data() {
    return {
      map: null,
      zoom: 14,
      waypoints: [],
      close: false,
      simulation: {name: "", description: "", computingScript: "", roads: [], dist: 0},
      id: this.$route.params.id,
      geojson : {"type": "FeatureCollection", "features": [{"id": "(471782912, 10097349137, 0)", "type": "Feature", "properties": {"osmid": 517419310, "lanes": "2", "name": "Rond-Point Centre de la Terre", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 62.765, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5843072, 48.8405364], [2.5842195, 48.8404782], [2.584166, 48.8404042], [2.5841528, 48.8403228], [2.5841814, 48.8402431], [2.5842486, 48.8401741], [2.5843466, 48.8401236], [2.5844539, 48.8401055]]}}, {"id": "(471782918, 2411236821, 0)", "type": "Feature", "properties": {"osmid": 1092384214, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 7.314, "maxspeed": "30", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5832713, 48.843593], [2.5832871, 48.8435737], [2.5833097, 48.8435576], [2.5833376, 48.8435456]]}}, {"id": "(257807371, 1998974791, 0)", "type": "Feature", "properties": {"osmid": 517419308, "lanes": null, "name": null, "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 20.27, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5851043, 48.8383339], [2.5850538, 48.8383104], [2.5850012, 48.8382783], [2.5849589, 48.8382402], [2.5849287, 48.8381974]]}}, {"id": "(2229030923, 343539223, 0)", "type": "Feature", "properties": {"osmid": 584181253, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": false, "length": 63.102, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5843846, 48.8407183], [2.5841977, 48.8412723]]}}, {"id": "(2229030923, 471782912, 0)", "type": "Feature", "properties": {"osmid": 584181257, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": true, "reversed": false, "length": 21.005000000000003, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5843846, 48.8407183], [2.5843372, 48.8406086], [2.5843072, 48.8405364]]}}, {"id": "(8643672589, 2294302484, 0)", "type": "Feature", "properties": {"osmid": 213159005, "lanes": null, "name": "Boulevard Newton", "highway": "residential", "junction": null, "oneway": true, "reversed": false, "length": 56.167, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5860505, 48.842811], [2.5859042, 48.8428059], [2.5858872, 48.8428053], [2.5858353, 48.8428034], [2.585285, 48.8427749]]}}, {"id": "(10097349137, 343530661, 0)", "type": "Feature", "properties": {"osmid": 584181256, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": true, "reversed": false, "length": 19.618000000000002, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5844539, 48.8401055], [2.5845404, 48.8400565], [2.5846381, 48.8399782]]}}, {"id": "(10097349137, 256784283, 0)", "type": "Feature", "properties": {"osmid": [1103420574, 584181254], "lanes": "2", "name": "Rond-Point Centre de la Terre", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 20.741, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5844539, 48.8401055], [2.5845444, 48.8400989], [2.5846008, 48.8401014], [2.5847261, 48.8401359]]}}, {"id": "(343539223, 2229030923, 0)", "type": "Feature", "properties": {"osmid": 584181253, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": true, "length": 63.102, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5841977, 48.8412723], [2.5843846, 48.8407183]]}}, {"id": "(343539223, 9445324014, 0)", "type": "Feature", "properties": {"osmid": 30900653, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 534.7529999999999, "maxspeed": null, "access": "private", "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5841977, 48.8412723], [2.5840464, 48.8412502], [2.5837021, 48.8411983], [2.583488, 48.841166], [2.5826818, 48.8410446], [2.5826297, 48.8409757], [2.5833445, 48.8389156], [2.5831004, 48.8385405], [2.5831608, 48.838326], [2.5832667, 48.8382703], [2.5836301, 48.838318], [2.5839413, 48.8386437], [2.5843221, 48.8386658]]}}, {"id": "(343539223, 470251278, 0)", "type": "Feature", "properties": {"osmid": 670297118, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": false, "length": 58.242000000000004, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5841977, 48.8412723], [2.5840874, 48.8415936], [2.5840258, 48.8417837]]}}, {"id": "(10004318237, 5454207128, 0)", "type": "Feature", "properties": {"osmid": 1092363937, "lanes": null, "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": false, "length": 19.369999999999997, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5834444, 48.8437067], [2.5833816, 48.8437869], [2.5833566, 48.843819], [2.5833233, 48.8438616]]}}, {"id": "(10004318237, 252098736, 0)", "type": "Feature", "properties": {"osmid": 1092384213, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 9.315, "maxspeed": "30", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5834444, 48.8437067], [2.5834136, 48.8437119], [2.5833818, 48.8437122], [2.5833508, 48.8437075], [2.5833223, 48.8436981]]}}, {"id": "(1428008494, 1428008593, 0)", "type": "Feature", "properties": {"osmid": 86343400, "lanes": "2", "name": null, "highway": "primary", "junction": null, "oneway": true, "reversed": false, "length": 33.498, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5804112, 48.8427065], [2.580466, 48.8425484], [2.580515, 48.8424131]]}}, {"id": "(1428008494, 250836910, 0)", "type": "Feature", "properties": {"osmid": 256707322, "lanes": null, "name": "Rue de la Butte Verte", "highway": "primary_link", "junction": null, "oneway": true, "reversed": false, "length": 37.817, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5804112, 48.8427065], [2.5803948, 48.8426414], [2.5803724, 48.8426125], [2.5803414, 48.8425849], [2.5802998, 48.8425597], [2.5802112, 48.8425208], [2.5801563, 48.842505], [2.5800702, 48.8424835]]}}, {"id": "(292398641, 1428011899, 0)", "type": "Feature", "properties": {"osmid": 188591770, "lanes": null, "name": "Boulevard de Champy-Richardets", "highway": "tertiary", "junction": null, "oneway": false, "reversed": false, "length": 57.706, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5807579, 48.8376942], [2.5809402, 48.837729], [2.5815161, 48.8378366]]}}, {"id": "(292398641, 2694702076, 0)", "type": "Feature", "properties": {"osmid": 188591770, "lanes": null, "name": "Boulevard de Champy-Richardets", "highway": "tertiary", "junction": null, "oneway": false, "reversed": true, "length": 50.96, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5807579, 48.8376942], [2.5806312, 48.837671], [2.5800862, 48.8375735]]}}, {"id": "(292398641, 4026410873, 0)", "type": "Feature", "properties": {"osmid": 400003446, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 44.564, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5807579, 48.8376942], [2.5809052, 48.8375394], [2.581085, 48.8374437], [2.5811742, 48.8374137]]}}, {"id": "(1428008498, 4805558781, 0)", "type": "Feature", "properties": {"osmid": [654551496, 402809138, 23903867, 129423430], "lanes": "2", "name": "Boulevard du R\u00fb de Nesle", "highway": "primary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 598.6890000000001, "maxspeed": "50", "access": null, "ref": "D 970", "bridge": "yes", "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5821917, 48.8381062], [2.5821418, 48.8381556], [2.5821083, 48.8382161], [2.5820848, 48.8383079], [2.5820044, 48.8386557], [2.5819601, 48.8388362], [2.5819075, 48.8390593], [2.5818351, 48.839307], [2.581704, 48.8396955], [2.5815591, 48.8400574], [2.5814538, 48.8402878], [2.5813356, 48.8405349], [2.5811307, 48.8409978], [2.581039, 48.8412312], [2.5808775, 48.8416784], [2.5806767, 48.8422534], [2.5805967, 48.842476], [2.5804991, 48.8427461], [2.5803806, 48.8430781], [2.5803449, 48.8431865], [2.5802937, 48.8433343]]}}, {"id": "(1428008498, 1428008525, 0)", "type": "Feature", "properties": {"osmid": 542027916, "lanes": null, "name": "Boulevard du R\u00fb de Nesle", "highway": "primary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 16.223, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5821917, 48.8381062], [2.5821416, 48.8381114], [2.5820878, 48.8381115], [2.582052, 48.8381084], [2.5820163, 48.8381027], [2.5819748, 48.8380925]]}}, {"id": "(471782968, 1428008498, 0)", "type": "Feature", "properties": {"osmid": 542027916, "lanes": null, "name": "Boulevard du R\u00fb de Nesle", "highway": "primary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 16.344, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5823774, 48.8380291], [2.5823411, 48.8380545], [2.5822844, 48.8380818], [2.5822598, 48.8380904], [2.5821917, 48.8381062]]}}, {"id": "(1428008509, 471782968, 0)", "type": "Feature", "properties": {"osmid": 584181250, "lanes": null, "name": "Boulevard du R\u00fb de Nesle", "highway": "primary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 19.0, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.582451, 48.8378694], [2.5824521, 48.8378984], [2.5824449, 48.8379358], [2.5824358, 48.8379582], [2.5824129, 48.8379937], [2.5823774, 48.8380291]]}}, {"id": "(1428008509, 2675914078, 0)", "type": "Feature", "properties": {"osmid": 992341627, "lanes": "2", "name": "Boulevard Blaise Pascal", "highway": "tertiary", "junction": null, "oneway": true, "reversed": false, "length": 46.789, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.582451, 48.8378694], [2.5824836, 48.8378904], [2.5825166, 48.8379037], [2.5825622, 48.8379178], [2.582599, 48.8379235], [2.5826534, 48.8379319], [2.5828379, 48.8379546], [2.5830579, 48.8379795]]}}, {"id": "(1428008525, 1428011907, 0)", "type": "Feature", "properties": {"osmid": 542027916, "lanes": null, "name": "Boulevard du R\u00fb de Nesle", "highway": "primary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 14.752, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5819748, 48.8380925], [2.5819459, 48.8380828], [2.5819103, 48.8380673], [2.5818833, 48.8380525], [2.5818478, 48.8380271], [2.581827, 48.8380055]]}}, {"id": "(257807494, 8643672524, 0)", "type": "Feature", "properties": {"osmid": [942395524, 942395525, 517419306, 517419309, 23792302], "lanes": "2", "name": null, "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 118.36900000000001, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5849267, 48.83804], [2.5849912, 48.8379629], [2.5850932, 48.837906], [2.5852192, 48.8378767], [2.5853529, 48.8378789], [2.5854508, 48.8379023], [2.5855349, 48.8379428], [2.5855985, 48.8379971], [2.5856364, 48.838061], [2.5856448, 48.8381387], [2.5856154, 48.8382141], [2.5855604, 48.8382726], [2.5854828, 48.8383186], [2.5853888, 48.8383484], [2.5852754, 48.838364]]}}, {"id": "(1428008593, 1428008525, 0)", "type": "Feature", "properties": {"osmid": [86343400, 641352740], "lanes": ["2", "1"], "name": null, "highway": "primary", "junction": null, "oneway": true, "reversed": false, "length": 493.615, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.580515, 48.8424131], [2.5805756, 48.8422458], [2.5806672, 48.8419948], [2.5808173, 48.8415809], [2.5809488, 48.8412173], [2.5810984, 48.8408492], [2.5812433, 48.8405247], [2.5814639, 48.8400504], [2.5816241, 48.8396695], [2.5817507, 48.8392833], [2.5818418, 48.8389704], [2.5818984, 48.838725], [2.5819929, 48.838255], [2.5819937, 48.8382001], [2.5819909, 48.838172], [2.5819878, 48.8381566], [2.5819842, 48.8381393], [2.5819748, 48.8380925]]}}, {"id": "(5454207128, 10053743358, 0)", "type": "Feature", "properties": {"osmid": 23289033, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": true, "length": 42.757, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5833233, 48.8438616], [2.5831954, 48.8442368]]}}, {"id": "(5454207128, 252098736, 0)", "type": "Feature", "properties": {"osmid": 1092363936, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": false, "length": 18.181, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5833233, 48.8438616], [2.583323, 48.843813], [2.5833228, 48.8437755], [2.5833225, 48.8437274], [2.5833223, 48.8436981]]}}, {"id": "(5454207128, 10004318237, 0)", "type": "Feature", "properties": {"osmid": 1092363937, "lanes": null, "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": true, "length": 19.37, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5833233, 48.8438616], [2.5833566, 48.843819], [2.5833816, 48.8437869], [2.5834444, 48.8437067]]}}, {"id": "(343530661, 2675914160, 0)", "type": "Feature", "properties": {"osmid": 23792272, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": false, "length": 169.758, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5846381, 48.8399782], [2.5850816, 48.8386477], [2.585128, 48.8385137], [2.5851372, 48.8384873]]}}, {"id": "(343530661, 256784283, 0)", "type": "Feature", "properties": {"osmid": 584181258, "lanes": null, "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": true, "reversed": false, "length": 18.812, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5846381, 48.8399782], [2.5846611, 48.8400327], [2.5846879, 48.8400936], [2.5847261, 48.8401359]]}}, {"id": "(5627073704, 256784141, 0)", "type": "Feature", "properties": {"osmid": [23714280, 23714286], "lanes": "2", "name": "Avenue Blaise Pascal", "highway": "tertiary", "junction": null, "oneway": false, "reversed": false, "length": 533.5, "maxspeed": "50", "access": "yes", "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5921643, 48.8406757], [2.5917777, 48.8406585], [2.5916476, 48.8406529], [2.5915047, 48.8406483], [2.5910644, 48.8406295], [2.5902031, 48.8405928], [2.5897643, 48.8405736], [2.5896245, 48.840568], [2.5894849, 48.8405591], [2.5877466, 48.8404885], [2.5865179, 48.840436], [2.5864035, 48.8404304], [2.5862694, 48.8404239], [2.5861377, 48.840418], [2.5850878, 48.8403703], [2.5849304, 48.8403649], [2.58489, 48.840366]]}}, {"id": "(5627073704, 343536047, 0)", "type": "Feature", "properties": {"osmid": 23714280, "lanes": "2", "name": "Avenue Blaise Pascal", "highway": "tertiary", "junction": null, "oneway": false, "reversed": true, "length": 20.106, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5921643, 48.8406757], [2.5922058, 48.8406775], [2.592326, 48.8406829], [2.5924384, 48.8406879]]}}, {"id": "(5627073704, 5627073706, 0)", "type": "Feature", "properties": {"osmid": 589277390, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 123.968, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5921643, 48.8406757], [2.5922471, 48.8399217], [2.5917032, 48.8398959]]}}, {"id": "(343536296, 9031465792, 0)", "type": "Feature", "properties": {"osmid": 975927445, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 38.79, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5923912, 48.8412891], [2.5929203, 48.8413099]]}}, {"id": "(343536296, 9031465793, 0)", "type": "Feature", "properties": {"osmid": 975927445, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 13.775, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5923912, 48.8412891], [2.5923785, 48.8414127]]}}, {"id": "(343536296, 343536047, 0)", "type": "Feature", "properties": {"osmid": 30900337, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 66.939, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5923912, 48.8412891], [2.5924262, 48.8408496], [2.5924315, 48.8407883], [2.5924384, 48.8406879]]}}, {"id": "(5627073706, 5627073704, 0)", "type": "Feature", "properties": {"osmid": 589277390, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 123.968, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5917032, 48.8398959], [2.5922471, 48.8399217], [2.5921643, 48.8406757]]}}, {"id": "(9998681261, 9998681261, 0)", "type": "Feature", "properties": {"osmid": [1091733345, 1091733347, 1103976367, 1103976368, 1103976369, 1103976370, 1103976375], "lanes": "1", "name": null, "highway": "service", "junction": null, "oneway": true, "reversed": false, "length": 161.37200000000004, "maxspeed": null, "access": "permissive", "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5829197, 48.8426639], [2.5825995, 48.8427183], [2.5823304, 48.8427068], [2.5820252, 48.8426937], [2.5819915, 48.8426931], [2.5819597, 48.8426857], [2.5819331, 48.8426721], [2.5819143, 48.8426537], [2.5819052, 48.8426323], [2.5819067, 48.8426102], [2.5819187, 48.8425894], [2.5819418, 48.8425711], [2.5819729, 48.842559], [2.5820083, 48.8425544], [2.5820654, 48.84257], [2.5821009, 48.8425946], [2.5821443, 48.8426231], [2.5821935, 48.8426348], [2.5824861, 48.8426466], [2.5827487, 48.8426571], [2.5829197, 48.8426639]]}}, {"id": "(9998681261, 9998681280, 0)", "type": "Feature", "properties": {"osmid": 1092392561, "lanes": "1", "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 24.729999999999997, "maxspeed": null, "access": "permissive", "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5829197, 48.8426639], [2.582992, 48.8426672], [2.5832568, 48.8426794]]}}, {"id": "(252098736, 5454207128, 0)", "type": "Feature", "properties": {"osmid": 1092363936, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": true, "length": 18.180999999999997, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5833223, 48.8436981], [2.5833225, 48.8437274], [2.5833228, 48.8437755], [2.583323, 48.843813], [2.5833233, 48.8438616]]}}, {"id": "(252098736, 9998681295, 0)", "type": "Feature", "properties": {"osmid": 1092384217, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 9.217, "maxspeed": "30", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5833223, 48.8436981], [2.5832983, 48.8436847], [2.5832797, 48.843668], [2.5832675, 48.8436488], [2.5832625, 48.8436284]]}}, {"id": "(9998681278, 9998681285, 0)", "type": "Feature", "properties": {"osmid": 1091733348, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 31.286, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5823624, 48.8428454], [2.5827851, 48.8428875]]}}, {"id": "(9998681280, 4630122338, 0)", "type": "Feature", "properties": {"osmid": 1091733346, "lanes": "1", "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 25.888, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5832568, 48.8426794], [2.5834354, 48.8426881], [2.5834471, 48.8426886], [2.5835533, 48.8426931], [2.5836097, 48.8426955]]}}, {"id": "(9998681280, 9998681283, 0)", "type": "Feature", "properties": {"osmid": 1091733348, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 42.708, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5832568, 48.8426794], [2.5832465, 48.8427218], [2.5832445, 48.842732], [2.583201, 48.842909], [2.5831886, 48.8429246], [2.5831649, 48.8429275], [2.5829876, 48.8429094]]}}, {"id": "(9998681280, 9998681261, 0)", "type": "Feature", "properties": {"osmid": 1092392561, "lanes": "1", "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 24.729999999999997, "maxspeed": null, "access": "permissive", "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5832568, 48.8426794], [2.582992, 48.8426672], [2.5829197, 48.8426639]]}}, {"id": "(9998681283, 9998681285, 0)", "type": "Feature", "properties": {"osmid": 1091733348, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 15.018, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5829876, 48.8429094], [2.5827851, 48.8428875]]}}, {"id": "(9998681283, 9998681284, 0)", "type": "Feature", "properties": {"osmid": 1091733349, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 17.03, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5829876, 48.8429094], [2.5830227, 48.842758]]}}, {"id": "(9998681283, 9998681280, 0)", "type": "Feature", "properties": {"osmid": 1091733348, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 42.708, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5829876, 48.8429094], [2.5831649, 48.8429275], [2.5831886, 48.8429246], [2.583201, 48.842909], [2.5832445, 48.842732], [2.5832465, 48.8427218], [2.5832568, 48.8426794]]}}, {"id": "(9998681284, 9998681283, 0)", "type": "Feature", "properties": {"osmid": 1091733349, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 17.03, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5830227, 48.842758], [2.5829876, 48.8429094]]}}, {"id": "(9998681285, 9998681283, 0)", "type": "Feature", "properties": {"osmid": 1091733348, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 15.018, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5827851, 48.8428875], [2.5829876, 48.8429094]]}}, {"id": "(9998681285, 9998681278, 0)", "type": "Feature", "properties": {"osmid": 1091733348, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 31.286, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5827851, 48.8428875], [2.5823624, 48.8428454]]}}, {"id": "(9998681285, 9998681286, 0)", "type": "Feature", "properties": {"osmid": 1091733350, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 12.688, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5827851, 48.8428875], [2.5828132, 48.8427749]]}}, {"id": "(9998681286, 9998681285, 0)", "type": "Feature", "properties": {"osmid": 1091733350, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 12.688, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5828132, 48.8427749], [2.5827851, 48.8428875]]}}, {"id": "(9998681295, 471782918, 0)", "type": "Feature", "properties": {"osmid": [1091733353, 1091733354, 1103976371, 1103976372, 1103976373, 1103976374, 1092384212], "lanes": "1", "name": null, "highway": "service", "junction": null, "oneway": true, "reversed": false, "length": 233.69600000000003, "maxspeed": null, "access": "permissive", "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5832625, 48.8436284], [2.5831554, 48.8436196], [2.5831035, 48.8436154], [2.5827149, 48.8435806], [2.5821896, 48.8435342], [2.5818362, 48.8435051], [2.5818006, 48.8434927], [2.5817794, 48.8434743], [2.5817691, 48.8434545], [2.5817681, 48.8434295], [2.5817807, 48.8434088], [2.5818093, 48.8433917], [2.5818434, 48.8433851], [2.5818805, 48.8433886], [2.5819113, 48.8433953], [2.5819342, 48.8434125], [2.5819481, 48.8434297], [2.5819754, 48.8434414], [2.5822374, 48.8434643], [2.5823741, 48.8434745], [2.5826397, 48.843495], [2.5828714, 48.8435129], [2.5829285, 48.8435173], [2.5830352, 48.8435736], [2.5831121, 48.8435805], [2.5831633, 48.8435845], [2.5832291, 48.8435897], [2.5832713, 48.843593]]}}, {"id": "(9998681295, 471782918, 1)", "type": "Feature", "properties": {"osmid": 1092384216, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 4.008, "maxspeed": "30", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5832625, 48.8436284], [2.5832642, 48.8436104], [2.5832713, 48.843593]]}}, {"id": "(1428008659, 1428008509, 0)", "type": "Feature", "properties": {"osmid": 584181251, "lanes": null, "name": "Boulevard du R\u00fb de Nesle", "highway": "primary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 23.406, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5822865, 48.8376976], [2.5823133, 48.8377093], [2.582372, 48.8377452], [2.5824028, 48.8377732], [2.5824197, 48.8377938], [2.5824325, 48.837814], [2.582451, 48.8378694]]}}, {"id": "(9445324014, 343539223, 0)", "type": "Feature", "properties": {"osmid": 30900653, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 534.7529999999999, "maxspeed": null, "access": "private", "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5843221, 48.8386658], [2.5839413, 48.8386437], [2.5836301, 48.838318], [2.5832667, 48.8382703], [2.5831608, 48.838326], [2.5831004, 48.8385405], [2.5833445, 48.8389156], [2.5826297, 48.8409757], [2.5826818, 48.8410446], [2.583488, 48.841166], [2.5837021, 48.8411983], [2.5840464, 48.8412502], [2.5841977, 48.8412723]]}}, {"id": "(10053743357, 10053743358, 0)", "type": "Feature", "properties": {"osmid": 1097989505, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 49.382, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5825357, 48.8441433], [2.5830361, 48.8442141], [2.5831954, 48.8442368]]}}, {"id": "(10053743358, 5454207128, 0)", "type": "Feature", "properties": {"osmid": 23289033, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": false, "length": 42.757, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5831954, 48.8442368], [2.5833233, 48.8438616]]}}, {"id": "(10053743358, 10004464579, 0)", "type": "Feature", "properties": {"osmid": 23289033, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": true, "length": 14.565, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5831954, 48.8442368], [2.5831518, 48.8443646]]}}, {"id": "(10053743358, 10053743357, 0)", "type": "Feature", "properties": {"osmid": 1097989505, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 49.382, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5831954, 48.8442368], [2.5830361, 48.8442141], [2.5825357, 48.8441433]]}}, {"id": "(2675913989, 1428008659, 0)", "type": "Feature", "properties": {"osmid": 77029733, "lanes": "2", "name": null, "highway": "primary", "junction": null, "oneway": true, "reversed": false, "length": 71.323, "maxspeed": "50", "access": null, "ref": "D 970", "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5823642, 48.8370656], [2.5822828, 48.837318], [2.582259, 48.8374946], [2.5822543, 48.8375759], [2.5822543, 48.8376243], [2.5822712, 48.8376671], [2.5822865, 48.8376976]]}}, {"id": "(2675913989, 2675914078, 0)", "type": "Feature", "properties": {"osmid": 261959646, "lanes": null, "name": null, "highway": "tertiary_link", "junction": null, "oneway": true, "reversed": false, "length": 130.512, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5823642, 48.8370656], [2.5823564, 48.8373149], [2.582354, 48.8375852], [2.5823706, 48.8376493], [2.5825369, 48.8378219], [2.5825753, 48.8378525], [2.5826177, 48.837877], [2.5826643, 48.8378931], [2.5827712, 48.8379201], [2.5830579, 48.8379795]]}}, {"id": "(9083677446, 9031465793, 0)", "type": "Feature", "properties": {"osmid": 975927445, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 40.906, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5929365, 48.8414342], [2.5923785, 48.8414127]]}}, {"id": "(2883761929, 2883761930, 0)", "type": "Feature", "properties": {"osmid": 284653195, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 76.70600000000002, "maxspeed": null, "access": "private", "ref": null, "bridge": null, "service": "alley"}, "geometry": {"type": "LineString", "coordinates": [[2.5845363, 48.8421176], [2.5844854, 48.8422888], [2.5846168, 48.8423206], [2.5845451, 48.8426641], [2.5845405, 48.8426879], [2.5845304, 48.84274]]}}, {"id": "(2883761930, 4630122330, 0)", "type": "Feature", "properties": {"osmid": 213159005, "lanes": null, "name": "Boulevard Newton", "highway": "residential", "junction": null, "oneway": true, "reversed": false, "length": 54.047000000000004, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5845304, 48.84274], [2.5840084, 48.8427162], [2.5838466, 48.8427065], [2.583794, 48.8427034]]}}, {"id": "(2883761930, 2883761929, 0)", "type": "Feature", "properties": {"osmid": 284653195, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 76.706, "maxspeed": null, "access": "private", "ref": null, "bridge": null, "service": "alley"}, "geometry": {"type": "LineString", "coordinates": [[2.5845304, 48.84274], [2.5845405, 48.8426879], [2.5845451, 48.8426641], [2.5846168, 48.8423206], [2.5844854, 48.8422888], [2.5845363, 48.8421176]]}}, {"id": "(256784141, 5627073704, 0)", "type": "Feature", "properties": {"osmid": [23714280, 23714286], "lanes": "2", "name": "Avenue Blaise Pascal", "highway": "tertiary", "junction": null, "oneway": false, "reversed": true, "length": 533.5, "maxspeed": "50", "access": "yes", "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.58489, 48.840366], [2.5849304, 48.8403649], [2.5850878, 48.8403703], [2.5861377, 48.840418], [2.5862694, 48.8404239], [2.5864035, 48.8404304], [2.5865179, 48.840436], [2.5877466, 48.8404885], [2.5894849, 48.8405591], [2.5896245, 48.840568], [2.5897643, 48.8405736], [2.5902031, 48.8405928], [2.5910644, 48.8406295], [2.5915047, 48.8406483], [2.5916476, 48.8406529], [2.5917777, 48.8406585], [2.5921643, 48.8406757]]}}, {"id": "(256784141, 256784276, 0)", "type": "Feature", "properties": {"osmid": 23714295, "lanes": null, "name": "Rond-Point Centre de la Terre", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 35.955, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.58489, 48.840366], [2.5848561, 48.8404437], [2.5847853, 48.8405097], [2.5846854, 48.8405568], [2.5845676, 48.8405797]]}}, {"id": "(470251278, 2794148635, 0)", "type": "Feature", "properties": {"osmid": [39247568, 41808957], "lanes": null, "name": "All\u00e9e Youri Gagarine", "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 114.115, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "driveway"}, "geometry": {"type": "LineString", "coordinates": [[2.5840258, 48.8417837], [2.5841903, 48.8417923], [2.5845374, 48.8418071], [2.5849619, 48.8413674], [2.5850989, 48.8412259]]}}, {"id": "(470251278, 4630122325, 0)", "type": "Feature", "properties": {"osmid": 405494696, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": false, "length": 96.48599999999999, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5840258, 48.8417837], [2.5839665, 48.8419592], [2.5837775, 48.8425146], [2.5837745, 48.8425261], [2.5837594, 48.8425847], [2.5837473, 48.8426317]]}}, {"id": "(470251278, 343539223, 0)", "type": "Feature", "properties": {"osmid": 670297118, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": true, "length": 58.242000000000004, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5840258, 48.8417837], [2.5840874, 48.8415936], [2.5841977, 48.8412723]]}}, {"id": "(2294302484, 2883761930, 0)", "type": "Feature", "properties": {"osmid": 213159005, "lanes": null, "name": "Boulevard Newton", "highway": "residential", "junction": null, "oneway": true, "reversed": false, "length": 55.358, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.585285, 48.8427749], [2.5845304, 48.84274]]}}, {"id": "(2294302484, 10004562720, 0)", "type": "Feature", "properties": {"osmid": 220299966, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 82.89000000000001, "maxspeed": null, "access": "private", "ref": null, "bridge": null, "service": "alley"}, "geometry": {"type": "LineString", "coordinates": [[2.585285, 48.8427749], [2.5852939, 48.8427219], [2.5852971, 48.8427031], [2.5853287, 48.8424367], [2.5847248, 48.8423538]]}}, {"id": "(2794148635, 470251278, 0)", "type": "Feature", "properties": {"osmid": [39247568, 41808957], "lanes": null, "name": "All\u00e9e Youri Gagarine", "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 114.11500000000001, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "driveway"}, "geometry": {"type": "LineString", "coordinates": [[2.5850989, 48.8412259], [2.5849619, 48.8413674], [2.5845374, 48.8418071], [2.5841903, 48.8417923], [2.5840258, 48.8417837]]}}, {"id": "(10004562720, 2294302484, 0)", "type": "Feature", "properties": {"osmid": 220299966, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 82.89, "maxspeed": null, "access": "private", "ref": null, "bridge": null, "service": "alley"}, "geometry": {"type": "LineString", "coordinates": [[2.5847248, 48.8423538], [2.5853287, 48.8424367], [2.5852971, 48.8427031], [2.5852939, 48.8427219], [2.585285, 48.8427749]]}}, {"id": "(4775669539, 1428008494, 0)", "type": "Feature", "properties": {"osmid": [86343400, 86343401, 484814692], "lanes": "2", "name": null, "highway": "primary", "junction": null, "oneway": true, "reversed": false, "length": 69.067, "maxspeed": "50", "access": null, "ref": "D 970", "bridge": "yes", "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5799875, 48.8432136], [2.5801355, 48.8431637], [2.5802219, 48.8431251], [2.5802596, 48.8431017], [2.5802863, 48.8430693], [2.5804042, 48.8427318], [2.5804112, 48.8427065]]}}, {"id": "(4775669539, 4805558781, 0)", "type": "Feature", "properties": {"osmid": 488223284, "lanes": null, "name": null, "highway": "primary", "junction": null, "oneway": true, "reversed": false, "length": 34.349999999999994, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5799875, 48.8432136], [2.5800885, 48.8431969], [2.5801746, 48.843193], [2.5802431, 48.8432042], [2.580272, 48.8432328], [2.5802855, 48.8432695], [2.5802937, 48.8433343]]}}, {"id": "(9031465790, 9031465793, 0)", "type": "Feature", "properties": {"osmid": 975927444, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 39.31, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5927131, 48.8415561], [2.5923684, 48.8415385], [2.5923785, 48.8414127]]}}, {"id": "(9031465792, 343536296, 0)", "type": "Feature", "properties": {"osmid": 975927445, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 38.79, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5929203, 48.8413099], [2.5923912, 48.8412891]]}}, {"id": "(9031465793, 343536296, 0)", "type": "Feature", "properties": {"osmid": 975927445, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 13.775, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5923785, 48.8414127], [2.5923912, 48.8412891]]}}, {"id": "(9031465793, 9083677446, 0)", "type": "Feature", "properties": {"osmid": 975927445, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 40.906, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5923785, 48.8414127], [2.5929365, 48.8414342]]}}, {"id": "(9031465793, 9031465790, 0)", "type": "Feature", "properties": {"osmid": 975927444, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 39.31, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5923785, 48.8414127], [2.5923684, 48.8415385], [2.5927131, 48.8415561]]}}, {"id": "(1998974791, 257807494, 0)", "type": "Feature", "properties": {"osmid": 517419307, "lanes": null, "name": null, "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 17.744, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5849287, 48.8381974], [2.5849078, 48.8381188], [2.5849267, 48.83804]]}}, {"id": "(1998974791, 471782968, 0)", "type": "Feature", "properties": {"osmid": 992341626, "lanes": "2", "name": "Boulevard Blaise Pascal", "highway": "tertiary", "junction": null, "oneway": true, "reversed": false, "length": 188.406, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5849287, 48.8381974], [2.5847939, 48.8381817], [2.5847474, 48.8381795], [2.5846745, 48.8381763], [2.584209, 48.8381738], [2.5839406, 48.8381564], [2.5834545, 48.8381248], [2.5830074, 48.838082], [2.5826558, 48.8380385], [2.5825679, 48.838026], [2.582518, 48.8380189], [2.5824613, 48.8380153], [2.5824304, 48.8380193], [2.5823774, 48.8380291]]}}, {"id": "(4630122325, 470251278, 0)", "type": "Feature", "properties": {"osmid": 405494696, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": true, "length": 96.486, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5837473, 48.8426317], [2.5837594, 48.8425847], [2.5837745, 48.8425261], [2.5837775, 48.8425146], [2.5839665, 48.8419592], [2.5840258, 48.8417837]]}}, {"id": "(4630122325, 4630122330, 0)", "type": "Feature", "properties": {"osmid": 517419312, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 9.334, "maxspeed": "30", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5837473, 48.8426317], [2.5837726, 48.8426445], [2.5837899, 48.8426621], [2.5837973, 48.8426825], [2.583794, 48.8427034]]}}, {"id": "(4630122330, 2411236814, 0)", "type": "Feature", "properties": {"osmid": 517419312, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 4.737, "maxspeed": "30", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.583794, 48.8427034], [2.5837858, 48.8427165], [2.5837733, 48.8427281], [2.5837571, 48.8427375]]}}, {"id": "(2675914078, 257807494, 0)", "type": "Feature", "properties": {"osmid": 992341627, "lanes": "2", "name": "Boulevard Blaise Pascal", "highway": "tertiary", "junction": null, "oneway": true, "reversed": false, "length": 137.779, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5830579, 48.8379795], [2.5833599, 48.8380137], [2.5838844, 48.8380471], [2.5839944, 48.838053], [2.5842359, 48.8380659], [2.584548, 48.8380716], [2.5846507, 48.8380693], [2.5846748, 48.8380696], [2.5847668, 48.8380659], [2.5848456, 48.8380578], [2.5849267, 48.83804]]}}, {"id": "(4630122338, 4630122325, 0)", "type": "Feature", "properties": {"osmid": 517419312, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 15.151, "maxspeed": "30", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5836097, 48.8426955], [2.5836101, 48.842676], [2.5836196, 48.8426576], [2.5836373, 48.842642], [2.5836615, 48.8426308], [2.5836898, 48.8426251], [2.5837194, 48.8426254], [2.5837473, 48.8426317]]}}, {"id": "(4630122338, 9998681280, 0)", "type": "Feature", "properties": {"osmid": 1091733346, "lanes": "1", "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 25.887999999999998, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5836097, 48.8426955], [2.5835533, 48.8426931], [2.5834471, 48.8426886], [2.5834354, 48.8426881], [2.5832568, 48.8426794]]}}, {"id": "(4026410873, 292398641, 0)", "type": "Feature", "properties": {"osmid": 400003446, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 44.56399999999999, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5811742, 48.8374137], [2.581085, 48.8374437], [2.5809052, 48.8375394], [2.5807579, 48.8376942]]}}, {"id": "(4026410873, 4026410879, 0)", "type": "Feature", "properties": {"osmid": 400003447, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 31.647, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5811742, 48.8374137], [2.5812707, 48.837291], [2.581318, 48.8371479]]}}, {"id": "(4026410873, 4026410877, 0)", "type": "Feature", "properties": {"osmid": 400003448, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 77.857, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5811742, 48.8374137], [2.5812537, 48.8374701], [2.5815111, 48.8374747], [2.5817638, 48.8375202], [2.5818551, 48.8374961], [2.5819567, 48.8372901]]}}, {"id": "(1428011899, 250836405, 0)", "type": "Feature", "properties": {"osmid": 129423848, "lanes": null, "name": "Boulevard de Champy-Richardets", "highway": "tertiary", "junction": null, "oneway": true, "reversed": false, "length": 24.215999999999998, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5815161, 48.8378366], [2.5815885, 48.8378366], [2.5816502, 48.8378348], [2.5816744, 48.8378304], [2.5817057, 48.8378247], [2.5817575, 48.8378101], [2.5818222, 48.8377761]]}}, {"id": "(1428011899, 292398641, 0)", "type": "Feature", "properties": {"osmid": 188591770, "lanes": null, "name": "Boulevard de Champy-Richardets", "highway": "tertiary", "junction": null, "oneway": false, "reversed": true, "length": 57.706, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5815161, 48.8378366], [2.5809402, 48.837729], [2.5807579, 48.8376942]]}}, {"id": "(250836859, 4775669539, 0)", "type": "Feature", "properties": {"osmid": 484814692, "lanes": null, "name": null, "highway": "primary", "junction": null, "oneway": true, "reversed": false, "length": 16.023, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5798616, 48.843329], [2.5799027, 48.8432719], [2.5799293, 48.8432496], [2.5799875, 48.8432136]]}}, {"id": "(4026410877, 4026410873, 0)", "type": "Feature", "properties": {"osmid": 400003448, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 77.857, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5819567, 48.8372901], [2.5818551, 48.8374961], [2.5817638, 48.8375202], [2.5815111, 48.8374747], [2.5812537, 48.8374701], [2.5811742, 48.8374137]]}}, {"id": "(4026410879, 4026410873, 0)", "type": "Feature", "properties": {"osmid": 400003447, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 31.647, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.581318, 48.8371479], [2.5812707, 48.837291], [2.5811742, 48.8374137]]}}, {"id": "(1428011907, 1428011899, 0)", "type": "Feature", "properties": {"osmid": 129423849, "lanes": null, "name": "Boulevard de Champy-Richardets", "highway": "tertiary", "junction": null, "oneway": true, "reversed": false, "length": 29.770000000000003, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.581827, 48.8380055], [2.5817299, 48.8379465], [2.581669, 48.8379019], [2.5816302, 48.8378778], [2.5815161, 48.8378366]]}}, {"id": "(1428011907, 250836405, 0)", "type": "Feature", "properties": {"osmid": 584181245, "lanes": null, "name": "Boulevard du R\u00fb de Nesle", "highway": "primary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 26.841, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.581827, 48.8380055], [2.5818107, 48.8379886], [2.5817918, 48.8379581], [2.5817764, 48.8379076], [2.5817764, 48.837871], [2.581785, 48.8378362], [2.5818009, 48.8378043], [2.5818222, 48.8377761]]}}, {"id": "(256784276, 2229030923, 0)", "type": "Feature", "properties": {"osmid": 23714307, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": true, "reversed": false, "length": 20.417, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5845676, 48.8405797], [2.5844767, 48.8406483], [2.5843846, 48.8407183]]}}, {"id": "(256784276, 471782912, 0)", "type": "Feature", "properties": {"osmid": 584181255, "lanes": "2", "name": "Rond-Point Centre de la Terre", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 20.002, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5845676, 48.8405797], [2.5844312, 48.8405742], [2.5843072, 48.8405364]]}}, {"id": "(256784283, 256784141, 0)", "type": "Feature", "properties": {"osmid": [693957595, 1103420573], "lanes": null, "name": "Rond-Point Centre de la Terre", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 29.568, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5847261, 48.8401359], [2.5848293, 48.840203], [2.5848852, 48.8402912], [2.58489, 48.840366]]}}, {"id": "(343549857, 2675913989, 0)", "type": "Feature", "properties": {"osmid": 77029733, "lanes": "2", "name": null, "highway": "primary", "junction": null, "oneway": true, "reversed": false, "length": 144.641, "maxspeed": "50", "access": null, "ref": "D 970", "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5827861, 48.8357948], [2.5823642, 48.8370656]]}}, {"id": "(1005273511, 4805558771, 0)", "type": "Feature", "properties": {"osmid": 220299963, "lanes": null, "name": "Boulevard du R\u00fb de Nesle", "highway": "primary", "junction": null, "oneway": true, "reversed": false, "length": 31.968999999999998, "maxspeed": "50", "access": null, "ref": "D 370", "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5799974, 48.8438433], [2.5800275, 48.8437162], [2.5800261, 48.8436697], [2.5800237, 48.8436645], [2.5800085, 48.8436311], [2.5799543, 48.8435685]]}}, {"id": "(250836394, 250836410, 0)", "type": "Feature", "properties": {"osmid": 24012376, "lanes": "1", "name": "Boulevard du R\u00fb de Nesle", "highway": "primary", "junction": null, "oneway": true, "reversed": false, "length": 236.61, "maxspeed": "50", "access": null, "ref": "D 970", "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5820424, 48.8376715], [2.5821045, 48.8376291], [2.5821477, 48.8375634], [2.5822434, 48.8371285], [2.5823328, 48.8368142], [2.5824671, 48.8364795], [2.5826146, 48.8360647], [2.5827776, 48.8356112]]}}, {"id": "(250836394, 1428008659, 0)", "type": "Feature", "properties": {"osmid": 584181249, "lanes": null, "name": "Boulevard du R\u00fb de Nesle", "highway": "primary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 18.509, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5820424, 48.8376715], [2.5821078, 48.8376665], [2.5821611, 48.8376686], [2.5822157, 48.8376768], [2.5822475, 48.8376846], [2.5822865, 48.8376976]]}}, {"id": "(250836910, 1428008593, 0)", "type": "Feature", "properties": {"osmid": 129423439, "lanes": null, "name": "Rue de la Butte Verte", "highway": "primary_link", "junction": null, "oneway": true, "reversed": false, "length": 34.817, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5800702, 48.8424835], [2.5802306, 48.8424899], [2.5803306, 48.8424829], [2.5803883, 48.8424697], [2.5804379, 48.8424512], [2.5804468, 48.8424468], [2.580515, 48.8424131]]}}, {"id": "(343536047, 5627073704, 0)", "type": "Feature", "properties": {"osmid": 23714280, "lanes": "2", "name": "Avenue Blaise Pascal", "highway": "tertiary", "junction": null, "oneway": false, "reversed": false, "length": 20.105999999999998, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5924384, 48.8406879], [2.592326, 48.8406829], [2.5922058, 48.8406775], [2.5921643, 48.8406757]]}}, {"id": "(343536047, 343536296, 0)", "type": "Feature", "properties": {"osmid": 30900337, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 66.939, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5924384, 48.8406879], [2.5924315, 48.8407883], [2.5924262, 48.8408496], [2.5923912, 48.8412891]]}}, {"id": "(2675914160, 343530661, 0)", "type": "Feature", "properties": {"osmid": 23792272, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": true, "length": 169.758, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5851372, 48.8384873], [2.585128, 48.8385137], [2.5850816, 48.8386477], [2.5846381, 48.8399782]]}}, {"id": "(2675914160, 257807371, 0)", "type": "Feature", "properties": {"osmid": 932432701, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": true, "reversed": false, "length": 17.265, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5851372, 48.8384873], [2.5851354, 48.8384483], [2.5851301, 48.8384238], [2.5851213, 48.8383924], [2.5851151, 48.8383737], [2.5851043, 48.8383339]]}}, {"id": "(250836405, 250836394, 0)", "type": "Feature", "properties": {"osmid": 584181243, "lanes": null, "name": "Boulevard du R\u00fb de Nesle", "highway": "primary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 20.427, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5818222, 48.8377761], [2.5818528, 48.8377474], [2.5818922, 48.8377209], [2.581941, 48.8376977], [2.5819948, 48.8376807], [2.5820424, 48.8376715]]}}, {"id": "(10004464578, 10004464579, 0)", "type": "Feature", "properties": {"osmid": 1092384208, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": false, "length": 19.603, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5828897, 48.8443282], [2.582991, 48.8443422], [2.5831518, 48.8443646]]}}, {"id": "(10004464579, 10053743358, 0)", "type": "Feature", "properties": {"osmid": 23289033, "lanes": "2", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": false, "reversed": false, "length": 14.565, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5831518, 48.8443646], [2.5831954, 48.8442368]]}}, {"id": "(10004464579, 10004464578, 0)", "type": "Feature", "properties": {"osmid": 1092384208, "lanes": null, "name": null, "highway": "service", "junction": null, "oneway": false, "reversed": true, "length": 19.603, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": "parking_aisle"}, "geometry": {"type": "LineString", "coordinates": [[2.5831518, 48.8443646], [2.582991, 48.8443422], [2.5828897, 48.8443282]]}}, {"id": "(8643672524, 2675914160, 0)", "type": "Feature", "properties": {"osmid": 932432700, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": true, "reversed": false, "length": 17.339000000000002, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5852754, 48.838364], [2.5852292, 48.83839], [2.5851956, 48.8384133], [2.5851717, 48.8384355], [2.5851496, 48.8384663], [2.5851372, 48.8384873]]}}, {"id": "(8643672524, 257807371, 0)", "type": "Feature", "properties": {"osmid": 942395523, "lanes": null, "name": null, "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 12.994, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5852754, 48.838364], [2.5851814, 48.8383517], [2.5851043, 48.8383339]]}}, {"id": "(2411236813, 4630122338, 0)", "type": "Feature", "properties": {"osmid": 517419312, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 5.662, "maxspeed": "30", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5836495, 48.8427377], [2.5836305, 48.8427262], [2.5836169, 48.8427118], [2.5836097, 48.8426955]]}}, {"id": "(2411236814, 2411236822, 0)", "type": "Feature", "properties": {"osmid": [35338560, 194463373, 35338559], "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": true, "reversed": false, "length": 94.42599999999999, "maxspeed": null, "access": null, "ref": null, "bridge": "yes", "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5837571, 48.8427375], [2.583721, 48.8428447], [2.5836505, 48.8430684], [2.5835572, 48.843344], [2.5835195, 48.84346], [2.5835038, 48.8435093], [2.5835031, 48.8435193], [2.5834992, 48.8435688]]}}, {"id": "(2411236814, 2411236813, 0)", "type": "Feature", "properties": {"osmid": 517419312, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 8.347, "maxspeed": "30", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5837571, 48.8427375], [2.5837315, 48.8427458], [2.5837033, 48.8427487], [2.5836752, 48.8427459], [2.5836495, 48.8427377]]}}, {"id": "(2411236821, 2411236813, 0)", "type": "Feature", "properties": {"osmid": [232805393, 232805394, 232805395], "lanes": ["2", "1"], "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": null, "oneway": true, "reversed": false, "length": 92.998, "maxspeed": null, "access": null, "ref": null, "bridge": "yes", "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5833376, 48.8435456], [2.5833797, 48.8434994], [2.5833982, 48.8434671], [2.5834082, 48.8434403], [2.5834477, 48.8433353], [2.5835393, 48.8430566], [2.5836172, 48.8428344], [2.5836379, 48.8427723], [2.5836495, 48.8427377]]}}, {"id": "(2411236821, 2411236822, 0)", "type": "Feature", "properties": {"osmid": 1092384215, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 12.987, "maxspeed": "30", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5833376, 48.8435456], [2.5833802, 48.8435374], [2.5834245, 48.8435388], [2.5834657, 48.8435497], [2.5834992, 48.8435688]]}}, {"id": "(2411236822, 10004318237, 0)", "type": "Feature", "properties": {"osmid": 23289029, "lanes": "1", "name": "Avenue Andr\u00e9-Marie Amp\u00e8re", "highway": "tertiary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 18.421, "maxspeed": "30", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5834992, 48.8435688], [2.5835177, 48.8435883], [2.5835278, 48.8436102], [2.5835291, 48.8436331], [2.5835205, 48.8436567], [2.5835026, 48.8436778], [2.5834765, 48.8436949], [2.5834444, 48.8437067]]}}, {"id": "(4805558771, 250836859, 0)", "type": "Feature", "properties": {"osmid": 220299963, "lanes": null, "name": "Boulevard du R\u00fb de Nesle", "highway": "primary", "junction": null, "oneway": true, "reversed": false, "length": 28.601999999999997, "maxspeed": "50", "access": null, "ref": "D 370", "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5799543, 48.8435685], [2.5799198, 48.8435413], [2.5798918, 48.8435108], [2.5798639, 48.8434615], [2.5798532, 48.8434276], [2.5798521, 48.84339], [2.5798616, 48.843329]]}}, {"id": "(4805558775, 4805558771, 0)", "type": "Feature", "properties": {"osmid": 488223282, "lanes": null, "name": null, "highway": "primary", "junction": null, "oneway": true, "reversed": false, "length": 26.286999999999995, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5802478, 48.8435076], [2.5802081, 48.8435463], [2.5801684, 48.8435734], [2.5801278, 48.8435892], [2.5801038, 48.8435947], [2.5800726, 48.843597], [2.5800168, 48.8435894], [2.5799543, 48.8435685]]}}, {"id": "(2694702076, 292398641, 0)", "type": "Feature", "properties": {"osmid": 188591770, "lanes": null, "name": "Boulevard de Champy-Richardets", "highway": "tertiary", "junction": null, "oneway": false, "reversed": false, "length": 50.96, "maxspeed": null, "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5800862, 48.8375735], [2.5806312, 48.837671], [2.5807579, 48.8376942]]}}, {"id": "(4805558781, 4805558775, 0)", "type": "Feature", "properties": {"osmid": 402809138, "lanes": null, "name": null, "highway": "primary", "junction": "roundabout", "oneway": true, "reversed": false, "length": 19.561, "maxspeed": "50", "access": null, "ref": null, "bridge": null, "service": null}, "geometry": {"type": "LineString", "coordinates": [[2.5802937, 48.8433343], [2.5802478, 48.8435076]]}}]},
      bounds: latLngBounds([
        [45.8405364, 2.5843466],
        [48.8405364, 2.5843466]
      ]),
      maxBounds: latLngBounds([
        [48.8405364, 3.5843466],
        [48.8405364, 4.5843466]
      ]),
    };
  },
  mounted() {
    this.getSimulation()
  },
  methods: {
    uncheckRoadTypes() {
      this.selectedRoadTypes = [];
    },
    async makePostRequest() {
      if (!this.name) {
        this.toast.error("Simulation name cannot be empty");
        return;
      }

      class Point {
        constructor(x, y) {
          this.x = x;
          this.y = y;
        }
      }

      try {
        let coordinates = this.waypoints.map(coord => new Point(coord[0], coord[1]));
        let name = this.$data.name;
        let desc = this.$data.desc;
        let start = coordinates.pop();
        let startX = start.x;
        let startY = start.y;

        let end = coordinates.pop();
        let endX = end.x;
        let endY = end.y;
        let distance = 100;
        let roadTypes = this.$data.selectedRoadTypes;
        let script = this.$data.script;
        let body = JSON.stringify({startX, startY, endX, endY, distance, name, desc, roadTypes, script});
        const response = await fetch('/api/simulation', {
          method: 'POST',
          headers: authHeader(),
          body: body
        });

        if (!response.ok) {
          throw new Error(`Request failed with status code: ${response.status}`);
        }

        const data = await response.json();
        console.log(data['simulationId']);
        this.$router.push({name: 'simulation', params: {id: data['simulationId']}});
      } catch (error) {
        console.error(error);
      }
    },
    async getSimulation() {
      await fetch("/api/simulation/" + this.id, {
        method: "GET",
        headers: authHeader(),
      })
          .then(response => response.json())
          .then(data => {
            this.simulation.name = data['name']
            this.simulation.description = data['description']
            this.simulation.computingScript = data['computingScript']
            this.simulation.roads = data['roads']
            this.simulation.distance = data['distance']
          });
    },
  }
};

</script>

<style>
#map {
  position: relative;
  height: 100vh;
  width: 100%;
}

.leaflet-routing-container {
  display: none !important;
}


.panel-map {
  width: 90%;
  z-index: 999;

}

.panel-map-md {
  width: 30% !important;
  z-index: 999;

}

.panel-map-lg {
  width: 20% !important;
  z-index: 999;
}

.panel-burger {
  z-index: 999;
}


</style>
